(function(n){function e(e){for(var o,s,r=e[0],u=e[1],p=e[2],l=0,d=[];l<r.length;l++)s=r[l],i[s]&&d.push(i[s][0]),i[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(n[o]=u[o]);c&&c(e);while(d.length)d.shift()();return a.push.apply(a,p||[]),t()}function t(){for(var n,e=0;e<a.length;e++){for(var t=a[e],o=!0,r=1;r<t.length;r++){var u=t[r];0!==i[u]&&(o=!1)}o&&(a.splice(e--,1),n=s(s.s=t[0]))}return n}var o={},i={1:0},a=[];function s(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=n,s.c=o,s.d=function(n,e,t){s.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:t})},s.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},s.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return s.d(e,"a",e),e},s.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var p=0;p<r.length;p++)e(r[p]);var c=u;a.push([3,0]),t()})({"0y4n":function(n,e,t){},1:function(n,e){},3:function(n,e,t){n.exports=t("Vtdi")},"7og1":function(n,e,t){n.exports=t.p+"img/nx.e94f6963.png"},AEAH:function(n,e,t){n.exports=t.p+"img/table_albedo.797c79ed.jpg"},Am2j:function(n,e,t){n.exports=t.p+"img/table_roughness.040ce06c.jpg"},Dw7d:function(n,e,t){n.exports=t.p+"img/accessories_normal.307c1d80.jpg"},HLmY:function(n,e,t){n.exports=t.p+"img/pz.47a01aa1.png"},KtL5:function(n,e,t){n.exports=t.p+"img/accessories_roughness.d8da4500.jpg"},TkoV:function(n,e,t){n.exports=t.p+"img/py.53f2fd65.png"},Vtdi:function(n,e,t){"use strict";t.r(e);t("VRzm");var o=t("Kw5r"),i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"interface"},[n.createButtonShown?t("button",{on:{click:n.handleCreateGame}},[n._v("Create Game")]):n._e(),n._v(" "),n.joinInputShown?t("input",{directives:[{name:"model",rawName:"v-model",value:n.joinInputValue,expression:"joinInputValue"}],attrs:{type:"text"},domProps:{value:n.joinInputValue},on:{input:function(e){e.target.composing||(n.joinInputValue=e.target.value)}}}):n._e(),n._v(" "),n.joinButtonShown?t("button",{on:{click:n.handleJoinGame}},[n._v("Join Game")]):n._e(),n._v(" "),n.readyUpButtonShown?t("button",{on:{click:n.handleReadyUp}},[n._v("Ready")]):n._e(),n._v(" "),t("Scene",{attrs:{assetPositions:n.assetPositions,started:n.started,playerNumber:n.playerNumber}})],1)},a=[],s=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("div",{attrs:{id:"three-container"}}),n._v(" "),t("p",[n._v(n._s(n.started))]),n._v(" "),t("p",[n._v(n._s(n.playerNumber))]),n._v(" "),t("p",[n._v(n._s(n.assetPositions))])])},r=[],u=t("Womt"),p=new u["i"](16777215,.5,15);p.position.set(0,3.75,0);var c=new u["d"](16777215,.5,40);c.position.set(-13.9,10,19.24);var l=new u["d"](16777215,.5,40);l.position.set(13.9,10,-19.24);var d=new u["e"](15658751,7829384,.01);d.position.set(.5,1,.75);var h=new u["a"](0,.01);h.position.set(0,0,0);var m=t("W+Jn"),f=t.n(m),v=t("7og1"),w=t.n(v),g=t("TkoV"),y=t.n(g),b=t("kA9/"),j=t.n(b),k=t("HLmY"),_=t.n(k),x=t("iBgW"),S=t.n(x),B=(new u["c"]).load([f.a,w.a,y.a,j.a,_.a,S.a]),P=B,I=t("eAlW"),A=t.n(I),E=t("KtL5"),V=t.n(E),J=t("Dw7d"),M=t.n(J),G=(new u["k"]).load(A.a),z=(new u["k"]).load(V.a),R=(new u["k"]).load(M.a),W=new u["g"]({envMap:P,map:G,metalness:0,normalMap:R,roughness:1.5,roughnessMap:z}),H=W,L=t("AEAH"),O=t.n(L),U=t("hDsa"),Y=t.n(U),N=t("Am2j"),C=t.n(N),D=t("vZGy"),X=t.n(D),K=4,T=(new u["k"]).load(O.a);T.anisotropy=K;var Z=(new u["k"]).load(Y.a);Z.anisotropy=K;var $=(new u["k"]).load(C.a);$.anisotropy=K;var q=(new u["k"]).load(X.a);q.anisotropy=K;var F=new u["g"]({envMap:P,map:T,metalness:.9,metalnessMap:Z,normalMap:q,roughness:1.5,roughnessMap:$}),Q=F,nn={accessories:H,table:Q},en={name:"THREE",props:["assetPositions","playerNumber","started"],data:function(){return{camera:null,scene:null,renderer:null,paddle1:null,paddle2:null,puck:null,table:null}},methods:{init:function(){var n=this,e=document.getElementById("three-container");this.renderer=new u["m"]({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(1.5*window.devicePixelRatio),this.renderer.setSize(e.clientWidth,e.clientHeight),e.appendChild(this.renderer.domElement),this.scene=new u["j"],this.camera=new u["h"](50,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.set(0,8,21),this.camera.lookAt(new u["l"](0,-3,0));var t=new u["b"];t.load("/meshes/table.json",function(e){n.table=new u["f"](e,nn.table),n.scene.add(n.table)}),t.load("/meshes/paddle.json",function(e){n.paddle1=new u["f"](e,nn.accessories),n.paddle2=new u["f"](e,nn.accessories),n.paddle1.position.z=-8,n.paddle2.position.z=8,n.scene.add(n.paddle1,n.paddle2)}),t.load("/meshes/puck.json",function(e){n.puck=new u["f"](e,nn.accessories),n.scene.add(n.puck)}),this.scene.add(p,c,l,d,h)},animate:function(){requestAnimationFrame(this.animate),this.started&&(this.puck.position.x=this.assetPositions.puck.x/2,this.puck.position.z=this.assetPositions.puck.y/2,this.paddle1.position.x=this.assetPositions.paddle1.x/2,this.paddle1.position.z=this.assetPositions.paddle1.y/2,this.paddle2.position.x=this.assetPositions.paddle2.x/2,this.paddle2.position.z=this.assetPositions.paddle2.y/2),this.renderer.render(this.scene,this.camera)}},mounted:function(){this.init(),this.animate()}},tn=en,on=(t("opd3"),t("KHd+")),an=Object(on["a"])(tn,s,r,!1,null,null,null),sn=an.exports,rn=t("gFX4"),un=t.n(rn),pn={name:"app",data:function(){return{socket:null,started:!1,readyUpButtonShown:!1,createButtonShown:!0,joinButtonShown:!0,joinInputShown:!0,joinInputValue:null,playerNumber:null,assetPositions:null,movementX:null,movementY:null}},components:{Scene:sn},methods:{hideCreateButton:function(){this.createButtonShown=!1},hideJoinButton:function(){this.joinButtonShown=!1},hideJoinInput:function(){this.joinInputShown=!1},showReadyUpButton:function(){this.createButtonShown=!1,this.joinButtonShown=!1,this.joinInputShown=!1,this.readyUpButtonShown=!0},handleCreateGame:function(){var n=this;fetch("https://floating-brook-38298.herokuapp.com/create-game").then(function(n){return n.json()}).then(function(e){n.createButtonShown=!1,n.joinButtonShown=!1,n.joinInputValue=e.gameID,n.bindSocketEvents(e.gameID)})},handleJoinGame:function(){this.createButtonShown=!1,this.joinButtonShown=!1,this.joinInputShown=!1,this.bindSocketEvents(this.joinInputValue)},bindSocketEvents:function(n){var e=this;this.socket=un()("https://floating-brook-38298.herokuapp.com/".concat(n)),this.socket.on("player-number-assigned",function(n){return e.playerNumber=n}),this.socket.on("status-updated",function(n){return"ready"===n?e.showReadyUpButton():e.handleStart()}),this.socket.on("simulation-updated",function(n){return e.updateMovement(n)})},handleReadyUp:function(){this.socket.emit("player-ready"),this.readyUpButtonShown=!1,document.body.requestPointerLock()},handleStart:function(){var n=this;this.started=!0,window.addEventListener("mousemove",function(e){n.movementX=e.movementX,n.movementY=e.movementY,n.socket.emit("player-moved",{x:n.movementX,y:n.movementY})})},updateMovement:function(n){this.assetPositions=n}}},cn=pn,ln=(t("ZL7j"),Object(on["a"])(cn,i,a,!1,null,null,null)),dn=ln.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(n){return n(dn)}}).$mount("#app")},"W+Jn":function(n,e,t){n.exports=t.p+"img/px.9210e854.png"},YnGJ:function(n,e,t){},ZL7j:function(n,e,t){"use strict";var o=t("YnGJ"),i=t.n(o);i.a},eAlW:function(n,e,t){n.exports=t.p+"img/accessories_albedo.4bd6f3c2.jpg"},hDsa:function(n,e,t){n.exports=t.p+"img/table_metalness.824c251a.jpg"},iBgW:function(n,e,t){n.exports=t.p+"img/nz.6af7bd6f.png"},"kA9/":function(n,e,t){n.exports=t.p+"img/ny.70a8aa8f.png"},opd3:function(n,e,t){"use strict";var o=t("0y4n"),i=t.n(o);i.a},vZGy:function(n,e,t){n.exports=t.p+"img/table_normal.a81361b0.jpg"}});
//# sourceMappingURL=app.55c7b842.js.map